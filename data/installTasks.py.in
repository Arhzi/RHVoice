import sys
import os
import os.path
import shutil
import config

module_dir=os.path.dirname(__file__.decode(sys.getfilesystemencoding()))
src_dir=os.path.join(module_dir,"RHVoice-data","@type@s","@name@")
data_dir=os.path.join(config.getUserDefaultConfigPath(),"RHVoice-data")
parent_dir=os.path.join(data_dir,"@type@s")
res_dir=os.path.join(parent_dir,"@name@")

def onInstall():
    for d in [data_dir,parent_dir]:
        if not os.path.isdir(d):
            os.mkdir(d)
    if not os.path.isdir(res_dir):
        os.rename(src_dir,res_dir)

def onUninstall():
    shutil.rmtree(res_dir)
